
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the AWS Secure Environment Accelerator">
      
      
        <meta name="author" content="Amazon Web Services">
      
      
        <link rel="canonical" href="https://aws-samples.github.io/aws-secure-environment-accelerator/v1.6.1/lza-upgrade/comparison/feature-specific-considerations/">
      
      
        <link rel="prev" href="../kms/">
      
      
        <link rel="next" href="../../preparation/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4">
    
    
      
        <title>Feature specific considerations - AWS Secure Environment Accelerator</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/pdf-print.css">
    
      <link rel="stylesheet" href="../../../css/extras.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#system-manager-documents" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="AWS Secure Environment Accelerator" class="md-header__button md-logo" aria-label="AWS Secure Environment Accelerator" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AWS Secure Environment Accelerator
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Feature specific considerations
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/aws-samples/aws-secure-environment-accelerator" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    aws-samples/asea
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="AWS Secure Environment Accelerator" class="md-nav__button md-logo" aria-label="AWS Secure Environment Accelerator" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    AWS Secure Environment Accelerator
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aws-samples/aws-secure-environment-accelerator" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    aws-samples/asea
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../installation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Installation & Upgrades
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Installation & Upgrades
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../installation/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../installation/customization-index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sample Configurations and Customization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../installation/ca-west-1-region-configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Calgary Region Configuration Sample
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../installation/sm_inputs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    State Machine Behavior
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../installation/multi-file-config-capabilities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Splitting the Config File
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../installation/existing-orgs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Considerations with Existing Organizations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/operations-import-ALZAccount/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Importing ALZ Accounts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/aws-samples/aws-secure-environment-accelerator/releases" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Open Releases (Link)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Upgrades
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Upgrades
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../installation/upgrades/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrade Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../installation/v150-Upgrade/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v1.5.0 Upgrade Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Functionality
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Functionality
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../installation/services-list/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../pricing/sample_pricing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pricing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architectures/sensitive/diagrams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture Diagrams
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../installation/what-we-do-where/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Key Account & Capability Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../installation/log-file-locations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Centralized Logging Details
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../installation/object-naming/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accelerator Object Naming
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/aws-samples/aws-secure-environment-accelerator/projects/1" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Open Roadmap (Link)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Upgrade to Landing Zone Accelerator
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Upgrade to Landing Zone Accelerator
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Key differences between ASEA and LZA
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Key differences between ASEA and LZA
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    KMS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Feature specific considerations
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Feature specific considerations
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#system-manager-documents" class="md-nav__link">
    <span class="md-ellipsis">
      System Manager Documents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rsyslog-servers" class="md-nav__link">
    <span class="md-ellipsis">
      rsyslog servers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#third-party-firewalls" class="md-nav__link">
    <span class="md-ellipsis">
      Third-Party firewalls
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#application-load-balancers" class="md-nav__link">
    <span class="md-ellipsis">
      Application Load Balancers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alb-ip-forwarder" class="md-nav__link">
    <span class="md-ellipsis">
      ALB IP Forwarder
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managed-active-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Managed Active Directory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gateway-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      Gateway Load Balancer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gateway-load-balancer-endpoint-routes" class="md-nav__link">
    <span class="md-ellipsis">
      Gateway Load Balancer Endpoint Routes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-iam-role-trust-policies" class="md-nav__link">
    <span class="md-ellipsis">
      Custom IAM Role Trust Policies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#public-and-private-hosted-zones" class="md-nav__link">
    <span class="md-ellipsis">
      Public and Private Hosted Zones
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vpc-templates" class="md-nav__link">
    <span class="md-ellipsis">
      VPC Templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-aws-config-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Custom AWS Config Rules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#suspended-accounts" class="md-nav__link">
    <span class="md-ellipsis">
      Suspended accounts
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../preparation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Preparation
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Preparation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../preparation/prereq-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pre-requisites and configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../preparation/resource-mapping-drift-detection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource mapping and drift detection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../preparation/drift-handling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Drift analysis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../preparation/configuration-conversion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration conversion
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../preparation/validation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pre-upgrade validations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../upgrade/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Upgrade
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Upgrade
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upgrade/optional-steps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optional preparation steps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upgrade/disable-asea/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Disable ASEA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upgrade/install-lza/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install LZA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upgrade/finalize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Finalize the upgrade
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    FAQ and Troubleshooting
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            FAQ and Troubleshooting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rollback/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rollback strategy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../asea-resource-handlers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ASEA Resource Handlers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../known-issues/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Known issues
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../operations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Operations & Troubleshooting
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Operations & Troubleshooting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/system-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/common-tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common Tasks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../developer/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer/development/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer/tech-stack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tech Stack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer/best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best Practices
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer/contributing-guidelines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Contribute
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer/release-process/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release Process
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../architectures/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Sample Sensitive Architecture
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Sample Sensitive Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architectures/sensitive/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architectures/sensitive/accounts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Account Structure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architectures/sensitive/auth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authentication & Authorization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architectures/sensitive/logging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logging and Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architectures/sensitive/network/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Networking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architectures/sensitive/diagrams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture Diagrams
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../workshops/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Workshops
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Workshops
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://catalog.us-east-1.prod.workshops.aws/v2/workshops/f3ed5d0f-d2f1-47e8-a305-168da9179aaa/en-US/sea-administrators" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Administrator Immersion Day
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://catalog.us-east-1.prod.workshops.aws/v2/workshops/f3ed5d0f-d2f1-47e8-a305-168da9179aaa/en-US/sea-members" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workload Team Immersion Day
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Configuration File Schema
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Configuration File Schema
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="/aws-secure-environment-accelerator/v1.5.6-a/schema/en/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Open Schema (Link)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Contributing & Governance
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Contributing & Governance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/aws-samples/aws-secure-environment-accelerator/blob/main/CONTRIBUTING.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Open Page (Link)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Documentation PDF
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Documentation PDF
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="/aws-secure-environment-accelerator/v1.5.6-a/pdf/accelerator-docs.pdf" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Open PDF
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#system-manager-documents" class="md-nav__link">
    <span class="md-ellipsis">
      System Manager Documents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rsyslog-servers" class="md-nav__link">
    <span class="md-ellipsis">
      rsyslog servers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#third-party-firewalls" class="md-nav__link">
    <span class="md-ellipsis">
      Third-Party firewalls
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#application-load-balancers" class="md-nav__link">
    <span class="md-ellipsis">
      Application Load Balancers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alb-ip-forwarder" class="md-nav__link">
    <span class="md-ellipsis">
      ALB IP Forwarder
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managed-active-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Managed Active Directory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gateway-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      Gateway Load Balancer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gateway-load-balancer-endpoint-routes" class="md-nav__link">
    <span class="md-ellipsis">
      Gateway Load Balancer Endpoint Routes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-iam-role-trust-policies" class="md-nav__link">
    <span class="md-ellipsis">
      Custom IAM Role Trust Policies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#public-and-private-hosted-zones" class="md-nav__link">
    <span class="md-ellipsis">
      Public and Private Hosted Zones
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vpc-templates" class="md-nav__link">
    <span class="md-ellipsis">
      VPC Templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-aws-config-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Custom AWS Config Rules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#suspended-accounts" class="md-nav__link">
    <span class="md-ellipsis">
      Suspended accounts
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Feature specific considerations</h1>

<p>This section contains documentation about specific features that may require manual intervention because they can't be fully automated by this upgrade process. Review each item that applies to your environment. Several warnings that can be generated from the <code>convert-config</code> command refer to items from this section.</p>
<h3 id="system-manager-documents">System Manager Documents<a class="headerlink" href="#system-manager-documents" title="Permanent link">(link)</a></h3>
<p>ASEA deploys System Manager documents through the <code>global-options/ssm-automation</code> configuration attributes and share those documents to other accounts. The configuration converter generates corresponding configuration with the <code>ssmAutomation</code> attribute in the <code>security-config.yaml</code> to re-create those documents through LZA.</p>
<p>The upgrade process does not remove the ASEA created documents, you need to review and remove them manually if needed. The documents created by ASEA are named <code>ASEA-&lt;document-name&gt;</code> and owned by the operations account. Those created by LZA are named <code>ASEA-LZA-&lt;document-name&gt;</code> and owned by the security account.</p>
<h3 id="rsyslog-servers">rsyslog servers<a class="headerlink" href="#rsyslog-servers" title="Permanent link">(link)</a></h3>
<div class="admonition note">
<p class="admonition-title">convert-config warning message</p>
<p><em>rsyslog servers are deployed in ${accountKey}. Please refer to documentation on how to manage these resources after the upgrade.</em></p>
</div>
<p>ASEA can deploy rsyslog servers with an auto-scaling group and Network Load Balancer. These rsyslog servers are configured to forward logs to a CloudWatch log group. They are not designed to store long term data and can then be replaced with minimal impact.</p>
<p>During the upgrade the existing deployed resources are not modified and remain in the original ASEA CloudFormation stacks. No LZA configuration elements are generated automatically for rsyslog.</p>
<p>We recommend that you provision new rsyslog servers and NLB with LZA, reconfigure any appliance that send logs to these servers with the new NLB address and then decommission the resources provisioned by ASEA once you confirm all traffic is sent to the new servers.</p>
<h4 id="how-to-deploy-rsyslog-servers-with-lza">How to deploy rsyslog servers with LZA?<a class="headerlink" href="#how-to-deploy-rsyslog-servers-with-lza" title="Permanent link">(link)</a></h4>
<p>To deploy rsyslog servers with LZA you can leverage the <a href="https://awslabs.github.io/landing-zone-accelerator-on-aws/latest/typedocs/latest/interfaces/___packages__aws_accelerator_config_lib_models_customizations_config.IAppConfigItem.html">applications customization</a> capability. A <a href="https://github.com/aws-samples/landing-zone-accelerator-on-aws-for-cccs-medium/tree/main/reference-artifacts/third-party/fortinet?ref_type=heads#sample-customizations-configyaml-file">sample</a> is available in the LZA CCCS Medium reference architecture.</p>
<h4 id="how-to-remove-the-asea-deployed-rsyslog-servers">How to remove the ASEA deployed rsyslog servers?<a class="headerlink" href="#how-to-remove-the-asea-deployed-rsyslog-servers" title="Permanent link">(link)</a></h4>
<p>Once you confirm the rsyslog servers deployed from ASEA are no longer in use, you can delete them by running the following command from the migration tool to flag the rsyslog to be deleted and then run the LZA pipeline. They will be deleted in the <code>ImportAseaResources</code> stage of the pipeline.</p>
<div class="highlight"><pre><span></span><code>yarn run post-migration remove-rsyslog
</code></pre></div>
<h3 id="third-party-firewalls">Third-Party firewalls<a class="headerlink" href="#third-party-firewalls" title="Permanent link">(link)</a></h3>
<div class="admonition note">
<p class="admonition-title">convert-config warning message</p>
<p><em>Third-Party firewalls ${firewall.name} are deployed in ${accountKey}. Please refer to documentation on how to manage these resources after the upgrade.</em></p>
</div>
<p>Third-Party firewall appliances (such as FortiGate) can be deployed by ASEA and once deployed and configured their lifecycle are managed outside of the accelerator (i.e. patching and configuration changes are handled directly through the appliance UI or CLI).</p>
<p>During the upgrade, the existing deployed resources are not modified and remain in the original ASEA CloudFormation stacks. The firewalls can continue to be managed as before (i.e. outside the accelerator) and no other actions are needed in relation to the upgrade.</p>
<p>During the configuration conversion a <code>firewalls/instances</code> configuration block is added to the customizations-config.yaml file to allow the use of ${ACCEL_LOOKUP} variables in the network-config.file to reference the firewall instances.</p>
<h4 id="which-configuration-changes-to-asea-firewall-instances-are-supported-from-lza">Which configuration changes to ASEA Firewall instances are supported from LZA?<a class="headerlink" href="#which-configuration-changes-to-asea-firewall-instances-are-supported-from-lza" title="Permanent link">(link)</a></h4>
<p>Only removing the Firewalls from the configuration file to decommission them is supported. Any other changes to the configuration (i.e. change the AMI used) will be ignored by the accelerator.</p>
<h3 id="application-load-balancers">Application Load Balancers<a class="headerlink" href="#application-load-balancers" title="Permanent link">(link)</a></h3>
<p>ASEA has the ability to deploy ALBs in individual accounts (e.g. Perimeter account) or be configured at the OU level to deploy ALB in every accounts of the OU.</p>
<p>During upgrade, the existing deployed resources are not modified and remain in the original ASEA CloudFormation stacks.</p>
<p>The recommendation is to create new ALBs through LZA, reconfigure the workloads to use them, and then decommission the ASEA ALBs.</p>
<h4 id="which-configuration-changes-to-asea-application-load-balancers-are-supported-from-lza">Which configuration changes to ASEA Application Load Balancers are supported from LZA?<a class="headerlink" href="#which-configuration-changes-to-asea-application-load-balancers-are-supported-from-lza" title="Permanent link">(link)</a></h4>
<p>The ASEA ALBs are not converted to the LZA configuration files, no changes are supported through LZA pipeline. You can modify ASEA ALB properties, modify and add rules to ALB listeners or change target groups directly through the AWS console or APIs.</p>
<p>Once you redeploy new ALBs with LZA those can be managed through the regular LZA configuration files.</p>
<h4 id="how-to-define-alb-to-be-created-in-every-workload-account-of-an-ou">How to define ALB to be created in every workload account of an OU?<a class="headerlink" href="#how-to-define-alb-to-be-created-in-every-workload-account-of-an-ou" title="Permanent link">(link)</a></h4>
<p>To achieve the same pattern than ASEA where ALB are defined at the OU level and deployed in every workload account of the OU, you can refer to this <a href="https://github.com/aws-samples/landing-zone-accelerator-on-aws-for-cccs-medium/blob/12859310469d7d677bcdd367f0014fca0d641f82/config/network-config.yaml#L889">example configuration</a> from the LZA CCCS Medium reference architecture.</p>
<h4 id="how-to-remove-asea-deployed-application-load-balancers">How to remove ASEA deployed Application Load Balancers?<a class="headerlink" href="#how-to-remove-asea-deployed-application-load-balancers" title="Permanent link">(link)</a></h4>
<p>In the future a<code>post-migration</code> command will be added to the LZA upgrade tool to remove ASEA Application Load Balancers. At the moment if you need to remove ASEA ALBs once you confirm they are are no longer in use you can do it through the AWS console or APIs.</p>
<h3 id="alb-ip-forwarder">ALB IP Forwarder<a class="headerlink" href="#alb-ip-forwarder" title="Permanent link">(link)</a></h3>
<p>If you are using ALB IP Forwarding in ASEA, (<code>"alb-forwarding": true</code> is set for a VPC in the ASEA configuration file), the following will occur as a result of the config-converter script:</p>
<ul>
<li>The AlbIpForwardingStack.template.json CloudFormation stack will be added to the LZA Configuration CodeCommit repository under the cloudformation path. ex: cloudformation/AlbIpForwardingStack.template.json</li>
<li>The VPC Name containing the front-end ALBs will be determined (i.e. Perimeter VPC)</li>
<li>A <code>customizations-config.yaml</code> file will be generated in the LZA Configuration CodeCommit repository in the root directory.</li>
<li>In the <code>customizations-config.yaml</code> file, the following entry will be added for each VPC with ALB Forwarding enabled to the <code>customizations/cloudFormationStacks</code> section of the configuration:</li>
</ul>
<div class="highlight"><pre><span></span><code>    - name: &lt;AcceleratorPrefix&gt;-AlbIPForwardingStack
      template: cloudformation/AlbIpForwardingStack.template.json
      runOrder: 1
      parameters:
        - name: acceleratorPrefix
          value: &lt;AcceleratorPrefix&gt;
        - name: vpcName
          value: &lt;VPC_NAME&gt;
        terminationProtection: true
        deploymentTargets:
          accounts:
            - Perimeter
        regions:
          - ca-central-1
</code></pre></div>
<p>Once the Customizations stage of the pipeline has been successfully run with the configuration file above, a new DynamoDB table will be generated in the <code>deploymentTargets</code> account and region specified. This table should be named <code>Alb-Ip-Forwarding-&lt;VPC_NAME&gt;</code>. In the same region and account, a DynamoDB table named <code>&lt;ASEA-Prefix&gt;-Alb-Ip-Forwarding-&lt;VPC-ID&gt;</code> should exist. You will need to copy over all of these entries from the old ALB IP Forwarding table to the new one.</p>
<p>For more details about ALB Forwarding in LZA, refer to the <a href="https://github.com/aws-samples/landing-zone-accelerator-on-aws-for-cccs-medium/blob/main/post-deployment.md#44-configure-application-load-balancer-forwarding">post-deployment instructions of LZA CCCS Medium reference architecture</a>.</p>
<h3 id="managed-active-directory">Managed Active Directory<a class="headerlink" href="#managed-active-directory" title="Permanent link">(link)</a></h3>
<div class="admonition note">
<p class="admonition-title">convert-config warning message</p>
<p><em>Managed AD is deployed in ${accountKey}. Please refer to documentation on how to manage these resources after the upgrade.</em></p>
</div>
<p>During the upgrade the existing Managed Active Directory resource is not modified, remain in the original ASEA CloudFormation stacks and you can continue to managed Active Directory objects through the Windows AD Management Tool from any instance joined to the domain.</p>
<h4 id="is-there-still-an-ad-ec2-management-instance-ie-rdgw-created">Is there still an AD EC2 management instance (i.e. RDGW) created?<a class="headerlink" href="#is-there-still-an-ad-ec2-management-instance-ie-rdgw-created" title="Permanent link">(link)</a></h4>
<p>The management instance created by ASEA using the ASEA-RDGWAutoScalingGroup will still be present and you can continue to use it to manage the Active Directory objects.</p>
<h4 id="which-configuration-changes-to-asea-managed-ad-are-supported-from-lza-configuration">Which configuration changes to ASEA Managed AD are supported from LZA configuration?<a class="headerlink" href="#which-configuration-changes-to-asea-managed-ad-are-supported-from-lza-configuration" title="Permanent link">(link)</a></h4>
<p>No changes to the Managed AD resources created by ASEA are supported through the LZA configuration. The configuration converter doesnt generate any corresponding block in LZA configuration.</p>
<p>LZA configurations support the creation of new Managed Active Directory using the <a href="https://awslabs.github.io/landing-zone-accelerator-on-aws/latest/typedocs/latest/interfaces/___packages__aws_accelerator_config_dist_config_lib_models_iam_config.IManagedActiveDirectoryConfig.html">ManagedActiveDirectoryConfig</a> configuration. Do not declare a <code>managedActiveDirectories</code> block in your LZA configuration with the same domain than the one created in ASEA, this will be ignored.</p>
<h4 id="how-to-decommission-a-managed-active-directory-that-was-deployed-by-asea">How to decommission a Managed Active Directory that was deployed by ASEA?<a class="headerlink" href="#how-to-decommission-a-managed-active-directory-that-was-deployed-by-asea" title="Permanent link">(link)</a></h4>
<p>The resources need to be decommissioned manually.  In the future a flag could be added to the <code>post-migration</code> command to flag the resources for removal.</p>
<h3 id="gateway-load-balancer">Gateway Load Balancer<a class="headerlink" href="#gateway-load-balancer" title="Permanent link">(link)</a></h3>
<div class="admonition note">
<p class="admonition-title">convert-config warning message</p>
<p><em>The account ${accountKey} utilizes a Gateway Load Balancer: ${loadBalancerItem.name}. Please refer to documentation on how to manage these resources.</em> or <em>The organizational unit ${ouKey} utilizes a Gateway Load Balancer: ${loadBalancerItem.name}. Please refer to documentation on how to manage these resources.</em></p>
</div>
<p>If you are using Gateway Load Balancers (GWLB) in ASEA, (<code>"type: "GWLB"</code> is set for one of your Load Balancers in the <code>alb</code> configuration), the configuration tool will not map the existing GWLB in ASEA to the LZA configuration.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Review the FAQ entry <a href="../../faq/#gateway-load-balancer-are-not-supported-in-the-configuration-conversion-how-will-this-impact-the-workload-availability">Gateway Load Balancer are not supported in the configuration conversion, how will this impact the workload availability?</a> to assess the potential impact of your workload availability during the upgrade.</p>
</div>
<p>If you're looking to implement GWLBs in your environment, you can do so by referencing the central network services <a href="https://awslabs.github.io/landing-zone-accelerator-on-aws/latest/typedocs/latest/interfaces/___packages__aws_accelerator_config_dist_config_lib_models_network_config.ICentralNetworkServicesConfig.html">configuration</a> within LZA. The LZA configuration allows end-users to define multiple GWLBs and VPC and subnets of where these resources are provisioned. End-users can also define which subnets the service endpoints are distributed to.</p>
<p>To set up GWLBs in your LZA environment, reference the <code>network-config.yaml</code> file and specify the <code>gatewayLoadBalancers</code> configuration within the <code>centralNetworkServices</code> configuration:</p>
<div class="highlight"><pre><span></span><code>gatewayLoadBalancers:
  - name: &lt;AcceleratorPrefix&gt;-GWLB
    subnets:
      - Network-Inspection-Firewall-A
      - Network-Inspection-Firewall-B
    account: Network
    vpc: Network-Inspection
    deletionProtection: true
    endpoints:
      - name: Endpoint-A
        account: Network
        subnet: Network-Inspection-A
        vpc: Network-Inspection
      - name: Endpoint-B
        account: Network
        subnet: Network-Inspection-B
        vpc: Network-Inspection
</code></pre></div>
<h3 id="gateway-load-balancer-endpoint-routes">Gateway Load Balancer Endpoint Routes<a class="headerlink" href="#gateway-load-balancer-endpoint-routes" title="Permanent link">(link)</a></h3>
<p>To specify routes to the GWLB for inspection, reference the Subnet route tables <a href="https://awslabs.github.io/landing-zone-accelerator-on-aws/latest/typedocs/latest/interfaces/___packages__aws_accelerator_config_dist_config_lib_models_network_config.IRouteTableEntryConfig.html">configuration</a> within LZA, for example taking in the above configuration:</p>
<div class="highlight"><pre><span></span><code>- name: GwlbRoute
  destination: 0.0.0.0/0
  type: gatewayLoadBalancerEndpoint
  target: Endpoint-A
</code></pre></div>
<h3 id="custom-iam-role-trust-policies">Custom IAM Role Trust Policies<a class="headerlink" href="#custom-iam-role-trust-policies" title="Permanent link">(link)</a></h3>
<div class="admonition note">
<p class="admonition-title">convert-config warning message</p>
<p><em>The trust policy for the role ${role.role} ... Please refer to documentation on how to manage these resources.</em></p>
</div>
<p>The LZA solution supports multiple types of assumeRole policies. The following are supported with their respective LZA configurations, particularly as it relates to the <code>assumedBy</code> property for the IAM Role set configuration:</p>
<h5 id="using-a-policy-to-delegate-access-to-aws-services">Using a policy to delegate access to AWS services:<a class="headerlink" href="#using-a-policy-to-delegate-access-to-aws-services" title="Permanent link">(link)</a></h5>
<div class="highlight"><pre><span></span><code>{
  &quot;Version&quot;: &quot;2012-10-17&quot;,
  &quot;Statement&quot;: [
    {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Principal&quot;: {
        &quot;Service&quot;: [
          &quot;elasticmapreduce.amazonaws.com&quot;,
          &quot;datapipeline.amazonaws.com&quot;
        ]
      },
      &quot;Action&quot;: &quot;sts:AssumeRole&quot;
    }
  ]
}
</code></pre></div>
<p>LZA configuration:</p>
<div class="highlight"><pre><span></span><code>- name: EC2-Role
  instanceProfile: true
  assumedBy:
    - type: service
      principal: elasticmapreduce.amazonaws.com
    - type: service
      principal: datapipeline.amazonaws.com
  policies:
    awsManaged:
      - AmazonElasticMapReduceFullAccess
      - AWSDataPipeline_PowerUser
      - CloudWatchAgentServerPolicy
  boundaryPolicy: Default-Boundary-Policy
</code></pre></div>
<h5 id="using-a-policy-to-delegate-access-to-all-principals-in-an-account">Using a policy to delegate access to all principals in an account.<a class="headerlink" href="#using-a-policy-to-delegate-access-to-all-principals-in-an-account" title="Permanent link">(link)</a></h5>
<div class="highlight"><pre><span></span><code>{
  &quot;Version&quot;: &quot;2012-10-17&quot;,
  &quot;Statement&quot;: [
    {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Principal&quot;: {
        &quot;AWS&quot;: &quot;arn:aws:iam::123456789012:root&quot;
      },
      &quot;Action&quot;: &quot;sts:AssumeRole&quot;
    }
  ]
}
</code></pre></div>
<p>LZA configuration:</p>
<div class="highlight"><pre><span></span><code>- name: EC2-Readonly-Role
  assumedBy:
    - type: account
      principal: &#39;123456789012&#39;
  policies:
    awsManaged:
      - AmazonEC2ReadOnlyAccess
</code></pre></div>
<h5 id="using-a-policy-to-delegate-access-to-cross-account-principals">Using a policy to delegate access to cross-account principals<a class="headerlink" href="#using-a-policy-to-delegate-access-to-cross-account-principals" title="Permanent link">(link)</a></h5>
<div class="highlight"><pre><span></span><code>{
  &quot;Version&quot;: &quot;2012-10-17&quot;,
  &quot;Statement&quot;: [
    {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Principal&quot;: {
        &quot;AWS&quot;: &quot;arn:aws:iam::444455556666:role/test-access-role&quot;
      },
      &quot;Action&quot;: &quot;sts:AssumeRole&quot;
    }
  ]
}
</code></pre></div>
<p>LZA configuration:</p>
<div class="highlight"><pre><span></span><code>- name: Network-Security-Role
  assumedBy:
    - type: principalArn
      principal: &#39;arn:aws:iam::444455556666:role/test-access-role&#39;
  policies:
    awsManaged:
      - AmazonSSMManagedInstanceCore
      - AmazonEC2ReadOnlyAccess
  boundaryPolicy: Default-Boundary-Policy
</code></pre></div>
<h5 id="using-a-policy-to-provide-3rd-party-access-via-external-id-conditionals">Using a policy to provide 3rd party access via external ID conditionals<a class="headerlink" href="#using-a-policy-to-provide-3rd-party-access-via-external-id-conditionals" title="Permanent link">(link)</a></h5>
<div class="highlight"><pre><span></span><code>{
  &quot;Version&quot;: &quot;2012-10-17&quot;,
  &quot;Statement&quot;: [
    {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Principal&quot;: {
        &quot;AWS&quot;: &quot;arn:aws:iam::444455556666:role/test-access-role&quot;
      },
      &quot;Action&quot;: &quot;sts:AssumeRole&quot;,
      &quot;Condition&quot;: {
        &quot;StringEquals&quot;: {
          &quot;sts:ExternalId&quot;: &quot;111122223333&quot;,
        },
      },
    }
  ]
}
</code></pre></div>
<p>LZA configuration:</p>
<div class="highlight"><pre><span></span><code>- name: Network-Security-Role
  assumedBy:
    - type: principalArn
      principal: &#39;arn:aws:iam::444455556666:role/test-access-role&#39;
  externalIds:
    - 111122223333
  policies:
    awsManaged:
      - AmazonSSMManagedInstanceCore
      - AmazonEC2ReadOnlyAccess
  boundaryPolicy: Default-Boundary-Policy
</code></pre></div>
<h4 id="using-a-saml-provider-to-federate">Using a SAML Provider to Federate:<a class="headerlink" href="#using-a-saml-provider-to-federate" title="Permanent link">(link)</a></h4>
<div class="highlight"><pre><span></span><code>{
    &quot;Version&quot;: &quot;2012-10-17&quot;,
    &quot;Statement&quot;: {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: &quot;sts:AssumeRoleWithSAML&quot;,
      &quot;Principal&quot;: {&quot;Federated&quot;: &quot;arn:aws:iam::account-id:saml-provider/Test-SAML&quot;},
      &quot;Condition&quot;: {&quot;StringEquals&quot;: {&quot;SAML:aud&quot;: &quot;https://signin.aws.amazon.com/saml&quot;}}
    }
  }
</code></pre></div>
<p>LZA Configuration:</p>
<div class="highlight"><pre><span></span><code>providers:
  - name: Test-SAML
    metadataDocument: path/to/metadata.xml

- name: Network-Security-Role
  assumedBy:
    - type: provider
      principal: Test-SAML
  externalIds:
    - 111122223333
  policies:
    awsManaged:
      - AmazonSSMManagedInstanceCore
      - AmazonEC2ReadOnlyAccess
  boundaryPolicy: Default-Boundary-Policy
</code></pre></div>
<p>If an assume role policy is needed outside of the scope of what's natively supported in LZA, it's recommended to lean on LZA to provision the IAM Role and trust policy through the customizations layer:</p>
<ul>
<li>Create your own CloudFormation template and add it to the <code>customizations-config.yaml</code> file, which will be generated in the LZA Configuration CodeCommit repository in the root directory.</li>
</ul>
<h3 id="public-and-private-hosted-zones">Public and Private Hosted Zones<a class="headerlink" href="#public-and-private-hosted-zones" title="Permanent link">(link)</a></h3>
<div class="admonition note">
<p class="admonition-title">convert-config warning message</p>
<p><em>The VPC ${vpcItem.name} in account ${accountKey} utilizes a public Route53 zone: ${zone}. Please refer to documentation on how to manage these resources.</em> or <em>The VPC ${vpcItem.name} in OU ${ouKey} utilizes a public Route53 zone: ${zone}. Please refer to documentation on how to manage these resources.</em></p>
</div>
<p>In ASEA you can create Route53 Public and Private Hosted Zone through the configuration file. Once the zone is created you need to manage its records outside of the accelerator.</p>
<p>e.g.
<div class="highlight"><pre><span></span><code>&quot;zones&quot;: {
  &quot;public&quot;: [
    &quot;cloud-hosted-publicdomain.example.ca&quot;
  ],
  &quot;private&quot;: [
    &quot;cloud-hosted-privatedomain.example.ca&quot;
  ]
},
</code></pre></div></p>
<p>As of right now, LZA only supports the creation of private hosted zones in association with creating Vpc Interface Endpoints (for centralized distribution) as well as for Route 53 Resolver Rules. It does not support the creation of custom public or private hosted zone.</p>
<p>After the upgrade to LZA you can continue to manage records in the existing zones. To create new Route53 zones you will need to create your own CloudFormation template and add it to the <code>customizations-config.yaml</code> file, which will be generated in the LZA Configuration CodeCommit repository in the root directory.</p>
<h3 id="vpc-templates">VPC Templates<a class="headerlink" href="#vpc-templates" title="Permanent link">(link)</a></h3>
<div class="admonition note">
<p class="admonition-title">convert-config warning message</p>
<p><em>The VPC ${vpcItem.name} in OU ${ouKey} is set to deploy 'local' in each account. You need to add a vpcTemplate to your configuration to keep the same behavior for new accounts in this OU.</em></p>
</div>
<p>In ASEA you can define a VPC at the OU level with a <code>local</code> deployment. This can be used with dynamic or provided CIDR ranges.</p>
<p>For example, this is used in the sample config file to create local VPC in each Sandbox account.
<div class="highlight"><pre><span></span><code>&quot;vpc&quot;: [
  {
    &quot;deploy&quot;: &quot;local&quot;,
    &quot;name&quot;: &quot;${CONFIG::OU_NAME}&quot;,
    &quot;description&quot;: &quot;This VPC is deployed locally in each Sandbox account and each account/VPC is deployed with the same identical CIDR range.  This VPC has no access to the rest of the Organizations networking and has direct internet access and does not use the perimeter ingress/egress services.&quot;,
    &quot;cidr-src&quot;: &quot;dynamic&quot;,
    &quot;cidr&quot;: [
      {
        &quot;size&quot;: 16,
        &quot;pool&quot;: &quot;main&quot;
      }
    ]
  ...
</code></pre></div></p>
<p>During the upgrade, each existing account using this feature will have its own VPC added to the configuration with the current CIDR range assigned to the VPC. To allow the creation of new accounts in this OU with a local VPC with a similar behavior than ASEA you need to add a <a href="https://awslabs.github.io/landing-zone-accelerator-on-aws/latest/typedocs/latest/interfaces/___packages__aws_accelerator_config_dist_config_lib_models_network_config.IVpcTemplatesConfig.html">vpcTemplate</a> to your configuration.</p>
<p>Example using a provided CIDR range:
<div class="highlight"><pre><span></span><code>vpcTemplates:
  - name: Sandbox-Template
    region: {{ AcceleratorHomeRegion }}
    deploymentTargets:
      organizationalUnits:
        - Sandbox
      excludedAccounts:
        - Sandbox01
        - Sandbox02
    cidrs:
      - 10.100.0.0/20
    internetGateway: true
    enableDnsHostnames: true
    enableDnsSupport: true
    instanceTenancy: default
    routeTables:
      - name: Network-Sandbox-A
        routes:
          - name: NatRoute
            destination: 0.0.0.0/0
            type: natGateway
            target: Nat-Network-Sandbox-A
          - name: S3Gateway
            type: gatewayEndpoint
            target: s3
          - name: DynamoDBGateway
            type: gatewayEndpoint
            target: dynamodb
      - name: Network-Sandbox-B
        routes:
          - name: NatRoute
            destination: 0.0.0.0/0
            type: natGateway
            target: Nat-Network-Sandbox-B
          - name: S3Gateway
            type: gatewayEndpoint
            target: s3
          - name: DynamoDBGateway
            type: gatewayEndpoint
            target: dynamodb
      - name: Network-Sandbox-Nat-A
        routes:
          - name: IgwRoute
            destination: 0.0.0.0/0
            type: internetGateway
            target: IGW
      - name: Network-Sandbox-Nat-B
        routes:
          - name: IgwRoute
            destination: 0.0.0.0/0
            type: internetGateway
            target: IGW
    subnets:
      - name: Network-Sandbox-A
        availabilityZone: a
        routeTable: Network-Sandbox-A
        ipv4CidrBlock: 10.100.0.0/24
      - name: Network-Sandbox-B
        availabilityZone: b
        routeTable: Network-Sandbox-B
        ipv4CidrBlock: 10.100.1.0/24
      - name: Network-SandboxNat-A
        availabilityZone: a
        routeTable: Network-Sandbox-Nat-A
        ipv4CidrBlock: 10.100.2.0/28
      - name: Network-SandboxNat-B
        availabilityZone: b
        routeTable: Network-Sandbox-Nat-B
        ipv4CidrBlock: 10.100.2.16/28
    natGateways:
      - name: Nat-Network-Sandbox-A
        subnet: Network-SandboxNat-A
      - name: Nat-Network-Sandbox-B
        subnet: Network-SandboxNat-B
    gatewayEndpoints:
      defaultPolicy: Default
      endpoints:
        - service: s3
        - service: dynamodb
</code></pre></div></p>
<div class="admonition warning">
<p class="admonition-title">Existing accounts</p>
<p>It is important to add the existing accounts that were upgraded from ASEA to the <code>deploymentTargets/excludedAccounts</code> list to avoid creating new VPC into the existing accounts.</p>
</div>
<h3 id="custom-aws-config-rules">Custom AWS Config Rules<a class="headerlink" href="#custom-aws-config-rules" title="Permanent link">(link)</a></h3>
<div class="admonition note">
<p class="admonition-title">convert-config warning message</p>
<p><em>Custom AWS Config Rule with detection needs an IAM policy written Rule Name: "${configRule.name}".  Policy file name: "${detectionPolicyPath}</em> or <em>Custom AWS Config Rule with remediation needs an IAM policy written Rule Name: "${configRule.name}".  Policy file name: "${remediationPolicyPath}</em></p>
</div>
<p>Custom AWS Config Rules need to have the appropriate permissions to execute the detection Lambda and the remediation SSM Documents. The way those permissions are provided are different between ASEA and LZA.</p>
<p>During the configuration conversion process, empty policy files will be generated under the <code>custom-config-rules</code> folder. You need to provide the appropriate policies in those files prior to the LZA installation. LZA will create the IAM Roles with the permissions provided in those files that are referenced with the <code>rolePolicyFile</code> property in <code>security-config.yaml</code>. The <code>AutomationAssumeRole</code> parameter is automatically provided by LZA with the created role to the remediation document and no longer should be provided as an explicit parameter.</p>
<h3 id="suspended-accounts">Suspended accounts<a class="headerlink" href="#suspended-accounts" title="Permanent link">(link)</a></h3>
<p>All suspended accounts in your organization should be under a specific OU that is ignored by the accelerator.</p>
<p>See <a href="https://aws-samples.github.io/aws-secure-environment-accelerator/latest/faq/#how-do-i-suspend-an-aws-account">ASEA FAQ 1.1.0 How do I suspend an AWS account?</a> for more details.</p>
<p>The presence of Suspended accounts in <em>regular</em> OUs (i.e. Dev, Test, Prod) will generate errors during the upgrade.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tracking", "navigation.instant", "navigation.indexes", "navigation.top"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>